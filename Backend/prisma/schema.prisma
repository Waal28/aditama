// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Admin {
  id        Int @id @unique @default(autoincrement())
  nama      String
  username  String @unique
  password  String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Pelanggan {
  id         Int @id @unique @default(autoincrement())
  nama       String
  alamat     String
  no_hp      String 
  email      String
  paketWifi  String
  transaksi  Transaksi[]
  longitude  String
  latitude   String
  createdAt  DateTime @default(now())
}

model PaketWifi {
  id              Int @id @unique @default(autoincrement())
  nama            String
  mbps            String
  tarifPerBulan   String 
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Transaksi {
  id            Int @id @unique @default(autoincrement())
  tagihan       String
  status        String 
  tanggal       String
  pelanggan     Pelanggan @relation(fields: [pelangganId], references: [id])
  pelangganId   Int
  createdAt     DateTime @default(now())
}

model Laporan {
  id                    Int @id @unique @default(autoincrement())
  namaTeknisi           String
  namaPelanggan         String
  tglPengerjaan         String 
  alamatPelanggan       String
  keteranganGangguan    String
  fotoSebelumPerbaikan  String
  fotoSesudahPerbaikan  String
  createdAt             DateTime @default(now())
}